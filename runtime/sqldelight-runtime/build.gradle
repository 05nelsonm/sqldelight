apply plugin: 'org.jetbrains.kotlin.multiplatform'

archivesBaseName = 'sqldelight-runtime'

kotlin {
  sourceSets {
    commonMain {
      dependencies {
        implementation deps.kotlin.stdlibCommon
      }
    }
    commonTest {
      dependencies {
        implementation deps.kotlin.testCommon
        implementation deps.kotlin.testCommonAnnotations
      }
    }
    jvmMain {
      dependencies {
        implementation deps.kotlin.stdlibJdk
      }
    }
    jvmTest {
      dependencies {
        implementation deps.kotlin.testJunit
        implementation project(':runtime:sqlite-driver')
      }
    }
    jsMain {
      dependencies {
        implementation deps.kotlin.stdlibJs
      }
    }
    jsTest {
      dependencies {
        implementation deps.kotlin.testJs
      }
    }
  }
  targets {
    fromPreset(presets.jvm, 'jvm')
    fromPreset(presets.js, 'js')
  }
}
